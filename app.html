<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="icons/textlock.ico" type="image/x-icon">
    <title>Text Lock - Secure Time-Locked Notes</title>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0a0a0b">
    <meta name="description" content="Secure your notes with time-locked encryption">

    <!-- iOS support -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <header class="topbar">
        <div class="brand">
            <span class="logo" aria-hidden="true"></span>
            <span class="title">Text Lock</span>
        </div>
    </header>

    <main class="app">
        <ul id="notesList"></ul>
    </main>

    <!-- FAB -->
    <button id="fab" aria-label="Create new locked note" title="Create new locked note">+</button>

    <!-- Editor Modal -->
    <div id="editor" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-box">
            <h3 id="modal-title">Create Locked Note</h3>
            <textarea 
                id="textInput" 
                placeholder="Write something to lockâ€¦" 
                aria-label="Note content"
            ></textarea>
            <input 
                type="datetime-local" 
                id="unlockTime" 
                aria-label="Unlock time"
            >
            <button id="lockBtn" class="primary">Lock Note</button>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // Register service worker for offline support
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration);
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed:', err);
                    });
            });
        }
    </script>
</body>

</html>